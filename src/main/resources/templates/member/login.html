<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>로그인</title>
</head>
<body>
<form id="loginForm">
    <input type="text" name="아이디" id="email" placeholder="아이디" required>
    <input type="password" name="비밀번호" id="password" placeholder="비밀번호" required>
    <input type="submit" value="제출">
</form>

<script>
    document.getElementById('loginForm').addEventListener('submit', async function(event) {
        event.preventDefault(); // 기본 제출 동작 방지

        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        const requestData = {
            email: email,
            password: password
        };

        try {
            const response = await fetch('/auth/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            });

            if (response.ok) {
                const data = await response.json();
                console.log('로그인 성공:', data);
                // 성공 후 추가 동작 (예: 리다이렉션)
                window.location.href = '/'; // 이동할 URL로 변경

            } else {
                const error = await response.json();
                alert('로그인 실패:', error);
                // 실패 후 사용자에게 알림 표시
            }
        } catch (error) {
            alert('서버 오류:', error);
        }
    });
</script>
</body>
</html>
